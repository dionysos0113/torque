<md-dialog aria-label='add torrent'>
    <md-toolbar>
        <div class='md-toolbar-tools'>
            <h2>Add Torrent</h2>
            <span flex></span>
            <md-button class='md-icon-button' ng-click='cancel()'>
                <md-icon md-svg-icon='navigation:close' aria-label='close dialog'></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content>
        <md-input-container>
            <label>Url</label>
            <input type='url' ng-model='torrent.url' name='url' />
        </md-input-container>
        <div layout='row' layout-align='center center'>
            <h4>OR</h4>
        </div>
        <div layout='column' layout-align='start center' flex-gt-sm="25">
            <input type="file" id="fileInput" name="file" style='display:none' ng-model="torrent.file"
                   onchange="angular.element(this).scope().fileChange()" accept="application/x-bittorrent">
            <md-button class="md-primary md-raised" type='button' ng-click="fileUpload()">Upload File</md-button>
            <table>
                <tr ng-repeat="file in torrent.files">
                    <td><span>{{file.name}}</span></td>
                    <td>
                        <md-progress-circular ng-hide="pgress[$index] == 100"
                                              md-mode="indeterminate"></md-progress-circular>
                        <md-button ng-show="pgress[$index] == 100" class="md-warn md-button-small"
                                   ng-click="removeFile($index)" aria-label="Delete">
                            <md-icon md-svg-icon="content:clear"></md-icon>
                        </md-button>
                    </td>
                </tr>
            </table>
        </div>
    </md-dialog-content>
    <div class='md-actions' layout='row'>
        <md-button ng-click='cancel()' class='md-warn'>Cancel</md-button>
        <md-button ng-click='submit()'>Add Torrent</md-button>
    </div>
</md-dialog>